@model IEnumerable<CovidAssignment.Models.Total>
@{
    ViewBag.Title = "Total";
    var flagURL = $"https://www.countryflags.io/{ViewBag.ISO2}/shiny/64.png";
}
<link rel="stylesheet" href="~/Content/Total.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript" src="~/Scripts/DrawLineChart.js"></script>
@using (Html.BeginForm("Progress", "Countries", FormMethod.Post, new { enctype = "multipart/form-data", @class = "form-inline form-property" }))
{
    <div>
        <label>Start:</label>
        <input type="hidden" id="country" name="country" value="@ViewBag.Id"/>
        <input type="date" id="start" name="start" min="2020-02-01" value="2020-02-01">
        <label>End:</label>
        <input type="date" id="end" name="end" min="2020-02-01" value="2020-05-20">
        <button type="submit" class="btn-primary">Search</button>
    </div>
}

<div>
    <h1><img src="@flagURL"/>@ViewBag.Id's statistic</h1>
</div>

<div id="chart">

</div>

<table class="table table-bordered">
    <tr>
        <th class="danger">
            @Html.DisplayNameFor(model => model.Confirmed)
        </th>
        <th class="total-deaths-col">
            @Html.DisplayNameFor(model => model.Deaths)
        </th>
        <th class="info">
            @Html.DisplayNameFor(model => model.Recovered)
        </th>
        <th class="active-col">
            @Html.DisplayNameFor(model => model.Active)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Date)
        </th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td class="danger">
                @Html.DisplayFor(modelItem => item.Confirmed)
            </td>
            <td class="total-deaths-col">
                @Html.DisplayFor(modelItem => item.Deaths)
            </td>
            <td class="info">
                @Html.DisplayFor(modelItem => item.Recovered)
            </td>
            <td class="active-col">
                @Html.DisplayFor(modelItem => item.Active)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Date)
            </td>
        </tr>
    }

</table>
